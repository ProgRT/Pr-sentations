---
title: "Doser l'aide inspiratoire"
subtitle: "Cibles et outils cliniques"
author: 
  - name: "Nicolas Blais St-Laurent<small>, inh.</small>"
    email: nicolas.blais.st-laurent.chum@ssss.gouv.qc.ca
date: "24 Octobre 2024"
toc: false
toc-depth: 1
toc-title: Plan
bibliography: bibliographie.bib
format: revealjs
metadata-files:
  - _reveal.yml
title-slide-attributes:
  data-background-image: "./images/splash_ai-bleu.png"
---

# Discussion

- Le dosage de l'AI est-il un enjeu important ?
- Comment jugez-vous si l'AI est r√©gl√©e ad√©quatement ?

# Aide inspiratoire et dysfonction diaphragmatique {visibility=uncounted}  

## √âvolution de l'√©paisseur diaphragmatique

![](images/goligher_evolution_epaisseur_fr.png)

::: {.aside}
Adapt√© de @goligher2015.
:::

## √âvolution de l'√©paisseur versus contractilit√©

![](images/goligher_epaisseur_vs_contractilite_vs_temps.png){.lightbox height=800}

::: {.aside}
Traduit de @goligher2015.
:::

## AI versus variation d'√©paisseur

![](images/ai_vs_variation_epaisseur.png)

::: {.aside}
Tir√© de @goligher2015.
:::

##  Influence du mode ventilatoire

![](images/goligher_early_evolution.png)

::: {.aside}
Traduit de @goligher2015.
:::

## Impacts

::: {layout-ncol=2}
![Risque de lib√©ration](images/goligher_risque_liberation.svg){height=600 width=600 .lightbox group=outcomes}

![Dur√©e de ventilation (jours)](images/goligher_duree_de_ventilation.svg){height=600 width=600 .lightbox group=outcomes}
:::

::: {.aside}
Traduit de @goligher2018.
:::

# Approche traditionnelle  {visibility=uncounted}

## Approche traditionnelle de l'AI {.smaller}

::: {.columns}

:::{.column width="50%"}
> Le niveau [d'AI] ajust√© pendant ce type de ventilation est r√©gl√© selon
> le VC expir√© par le patient et sa *f* [...]. La *Society of critical
> care medicine* sugg√®re l'atteinte d'au moins un des objectifs
> suivants:
>
> 1. Un VC expir√© entre 6 ml/kg et 10 ml/kg, selon les besoins du
>    patient
> 2. Un diminution de la *f* totale √† un niveau acceptable (<20/min)
> 3. La ventilation minute (V'min) d√©sir√©e (5-15 L/min)

@gagne2006
:::

:::{.column}
![](images/gagne2006.jpg){height=700}
:::
:::

::: {.notes}

@pletsch-assuncao2018: Ve inchang√© sur Ai 20 -> 2 cmH2O

:::

## Qu'est-ce qu'une assistance ad√©quate ? {.smaller}

{{< include tbl/gold_standard.md >}}

## √Ä propos de la fr√©quence respiratoire

**D√©favorable**

{{< include tbl/fr_dfavorable.md >}}

**Favorable**

{{< include tbl/fr_favorable.md >}}

## @alberti1995

::: {layout-ncol=2}
![](images/alberti_fr.png){style="height: 350px"}

![](images/alberti_wobf.png){style="height: 350px"}

![](images/alberti_vt.png){style="height: 350px" .lightbox}

![](images/alberti_wobp100.png){style="height: 350px" .lightbox}
:::

# Indicateurs √©mergents {visibility=uncounted}

- [P<sub>0.1</sub>](/#/p0.1)
- [Indice P<sub>mus</sub>](/#/indice-p-mus)
- [Œî P occlusion](/#/Œ¥-p-occlusion)
- [Indice de d√©bit](/#/indice-de-d√©bit)

## P<sub>0.1</sub> {.p01}

::: {layout-ncol=3}
![Dr√§ger V500](images/p01/Drager_V500.png){height=250 .lightbox group="P01"}

![Hamilton-C6](images/p01/Hamilton-C6.png){height=250 .lightbox group="P01"}

![Hamilton G5](images/p01/Hamilton-G5.png){height=250 .lightbox group="P01"}

![PB980](images/p01/PB980.png){height=250 .lightbox group="P01"}

![Servo-U](images/p01/Servo-U.png){height=250 .lightbox group="P01"}

[‚óã Normal</br> ‚óè Obstructif]{style="font-size: 75%; line-height: 25%"}
:::

::: {.aside}
Adapt√© de @katayama2023
:::

## Indice P‚Äâmus

::: {layout-ncol=1}
![](images/pmi/rationnel-pmi_vect.svg){style="height: 800px" .lightbox}
:::

::: {.aside}
Adapt√© de @foti1997
:::

## Indice P‚Äâmus

```{R}
#| layout-ncol: 2
#| fig-width: 10
#| fig-height: 10

par(cex=2)
servou::PMIgraph("data/IPM/1722323504189.txt")
servou::PMIgraph("data/IPM/1722324206678.txt")
```

## Manoeuvres rejett√©es

::: {layout-ncol=2}
![Plateau trop court](images/PMI_rejet√©es-0.png){width=55% .lightbox
group="plateaux-exclus"}

![Fuite suspect√©e](images/PMI_rejet√©es-1.png){width=55% .lightbox
group="plateaux-exclus"}

![Effort inspiratoire](images/PMI_rejet√©es-2.png){width=55% .lightbox group="plateaux-exclus"}

![Effort expiratoire](images/PMI_rejet√©es-3.png){width=55% .lightbox
group="plateaux-exclus"}
:::

## [Œî]{style="font-weight: normal"} P‚Äâocclusion

```{R}
#| layout-ncol: 2
#| fig-width: 10
#| fig-height: 10
par(cex=2)

cmh <- "cm H‚ÇÇO"
labAI <- function (AI) {
	paste("AI =", AI, cmh)
}

f <- "./data/POCC/1718176215664.txt"
p <- servou::parse_settings(f)
servou::pmusGraph(f, 2, x=9, main=labAI(p$Niv))

f <- "./data/POCC/1718176813185.txt"
p <- servou::parse_settings(f)
servou::pmusGraph(f, 6, x=20.5, main=labAI(p$Niv))
```

## Rationnel physiologique 

![](images/rationnel_pocc/rationnel_Paw.png){width=950}
![](images/rationnel_pocc/rationnel_Pes.png){width=950}
![](images/rationnel_pocc/rationnel_Pmus.png){width=950}
![](images/rationnel_pocc/rationnel_EAdi.png){width=950}

::: {.notes}
ŒîPocc ~ PTPmus; R¬≤=0,85
:::

::: {.aside}
Adapt√© de @bertoni2019
:::

## Indice de d√©bit

```{R}
#| layout-ncol: 3
#| fig-width: 7.5
#| fig-height: 7.5

par(cex=2)

fplot <- function(c) {
	plot(
	c$Du, c$D√â,
	type="l",
	xaxs="i",
	xlab="Temps (s)",
	ylab="D√©bit (l/m)"
	)
}

f2 <- "./data/ID/1718176075155.txt"
d <- servou::load_servou_data(f2)
c1<- servou::cycles(d)[[2]]
fplot(c1)

f1 <- "./data/ID/1652614813406.txt"
d <- servou::load_servou_data(f1)
c <- servou::cycles(d)

fplot(c1)
fplot(c[[4]])
fplot(c[[8]])

```

## Rationnel physiologique

![](images/rationnel_indv.png){.lightbox height=700}

::: {.aside}
Adapt√© de @albani2021.
:::

## Indice de d√©bit

$$ D\acute{e}bit_{(l/m)} = a - b \cdot Temps_{(s)}^{\ Ind.\ d\acute{e}bit} $$

```{R}
#| layout-ncol: 3
#| fig-width: 7.5
#| fig-height: 7.5
par(cex=2)

servou::fitPlot(c1)
servou::fitPlot(c[[4]])
servou::fitPlot(c[[8]])
```

## Valeurs de r√©f√©rence {.smaller}

{{< include tbl/tblCibles.md >}}

# Cas cliniques {visibility=uncounted}

## Cas n¬∞ 1

```{R}
servou::display("./data/cas_surassistance/1723447237671.txt", notitle=TRUE)
abline(h=0, lty=2, lwd=.5, col=gray(.6))
```

## Cas n¬∞ 1

```{R}
#| layout-ncol: 2
#| fig-width: 10
#| fig-height: 7

par(cex=2, mar=c(4, 3.9, 0.1, 0.1))
servou::pmusGraph("./data/cas_surassistance/1723447341668.txt")
servou::PMIgraph("./data/cas_surassistance/1723447361176.txt")
```


## Cas n¬∞ 1

```{R}
servou::display("./data/cas_surassistance/1723447510174.txt", notitle=TRUE)
```

## Cas n¬∞ 1

```{R}
#| layout-ncol: 2
#| fig-width: 10
#| fig-height: 7

par(cex=2, mar=c(4, 3.9, 0.1, 0.1))
servou::pmusGraph("./data/cas_surassistance/1723447761169.txt")
servou::PMIgraph("./data/cas_surassistance/1723447761169.txt")
#cs <- servou::cycles("./data/cas_paradoxal/1723206472664.txt")
#servou::fitPlot(cs[[2]])
```

## Cas n¬∞ 2

```{R}
fichiers <- c(
"./data/2024_10_03/1727941164137.txt",
"./data/2024_10_03/1727941217136.txt"
)

servou::display(fichiers[1], notitle=TRUE)
```

## Cas n¬∞ 2

```{R}
servou::display(fichiers[2], notitle=TRUE)
```

## Cas n¬∞ 2

```{R}
#| layout-ncol: 2
#| fig-width: 10
#| fig-height: 7

par(cex=2, mar=c(4, 3.9, 0.1, 0.1))
servou::pmusGraph(fichiers[2])
servou::PMIgraph(fichiers[1])
```

## Cas n¬∞ 3

```{R}
fichiers <- c(
	"./data/cas_paradoxal/1723206558161.txt",
	"./data/cas_paradoxal/1723206472664.txt"
)

servou::display(fichiers[1], notitle=TRUE)
```


## Cas n¬∞ 3

```{R}
servou::display(fichiers[2], notitle=TRUE)
```

## Cas n¬∞ 3

```{R}
#| layout-ncol: 2
#| fig-width: 9
#| fig-height: 5

par(cex=2, mar=c(4, 4, 0.1, 0.1))

servou::PMIgraph(fichiers[1])
servou::pmusGraph(fichiers[2])

cs <- servou::cycles("./data/cas_paradoxal/1723206472664.txt")
servou::fitPlot(cs[[2]])

s <- servou::parse_settings(fichiers[1])
cat(paste("Aide inspiratoire:",  s$Niv, "cmH‚ÇÇO"))
```


::: {.notes}
- Greff√© pulm.
- R√©int. sur mauv. gest. s√©cr.
:::

## R√©f√©rences {visibility=uncounted}

::: {#refs}
:::

# Annexe

## Performance diagnostique {.smaller}

::: {.panel-tabset}

### ü¶• Efforts faibles / Sur-assistance

```{ojs}
//| echo: false

interpCol = d3.interpolateHsl("red", "green")
function colASC(x){
	return interpCol((x-.5)/.5);
}

function fmtASC(x){
	const c = colASC(x)
	return html`<span>${x}</span> <span style="color:${c};">‚¨§</span>`;
}

function fmtInd(x){
	var x = x.replace("0.1", "<sub>0.1</sub>");
	var x = x.replace("mus", "<sub>mus</sub>");
	var x = x.replace("‚Äâes", "<sub>‚Äâes</sub>");
	var x = x.replace("occ", "<sub>occ</sub>");
	return html`${x}`;
}

function tablePerformance(dataset){
	const columns = [
		"√âtude",
		"Indice",
		"R√©f√©rence",
		"Seuil",
		"ASC",
		"Sen",
		"VPN",
		"Spe",
		"VPP"
	];

	const header = {
		Seuil: "üéØ Seuil",
		R√©f√©rence: "üçéüçä R√©f√©rence",
		ASC: "üìà Aire sous courbe",
		Sen: "Sensibilit√©",
		Spe: "Sp√©cificit√©",
		VPP: "‚úÖ VPP",
		VPN: "‚ùå VPN"
	};

	const aligns = {
		Seuil: "center",
		ASC: "center",
		Sen: "center",
		Spe: "center",
		R√©f√©rence: "center"
	};

	return Inputs.table(dataset, {
		columns: columns,
		header: header,
		align: aligns,
		select: false,
		format: {
			ASC: fmtASC,
			Iidice: fmtInd
		},
		width: {
			ASC: 250
		},
		sort: "Indice",
		rows: 28,
		select: false
	})
}

data = FileAttachment("synthese/synthese.tsv").tsv({typed: true});
tablePerformance(data.filter(d=>d.Condition == "Low effort"))
```

### ü¶£ Efforts excessifs / Sous-assistance

```{ojs}
tablePerformance(data.filter(d=>d.Condition == "High effort"))
```
:::

## R√©ponse au CO‚ÇÇ

![](images/CO2_response.svg)
